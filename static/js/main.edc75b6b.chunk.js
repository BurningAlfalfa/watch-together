(this.webpackJsonpclient2=this.webpackJsonpclient2||[]).push([[0],{142:function(e,t,n){"use strict";n.r(t);var c=n(13),o=n(0),a=n.n(o),i=n(7),s=n.n(i),r=(n(87),n(76)),l=n(40),u=(n(88),n(70)),d=n.n(u),m=n(174),f=n(173),h=n(71),g=n.n(h),j="localhost"===window.location.hostname?"ws://localhost:8000":"wss://aleo-watch-together.herokuapp.com";console.log("socket url = ",j);var b=g()(j,{transports:["websocket"]});var v=function(){var e=Object(o.useState)([]),t=Object(l.a)(e,2),n=t[0],i=t[1],s=a.a.useRef(null),u=Object(o.useState)(),h=Object(l.a)(u,2),g=h[0],j=h[1];Object(o.useEffect)((function(){function e(){console.log("connected to socket")}b.on("connect",e);var t=function(e){i((function(t){return t.concat(e)})),s.current&&s.current.scrollTo(0,s.current.scrollHeight)};return b.on("chat-message",t),b.on("command",x),function(){b.off("connect",e),b.off("chat-message",t),b.off("command",x)}}),[s]);var v=a.a.useState(""),O=Object(l.a)(v,2),p=O[0],w=O[1],x=function(e){var t=e.command,n=Object(r.a)(e,["command"]);"play"===t&&j(n.url)};return console.log(p),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(d.a,{className:"youtubePlayer",playing:!0,controls:!0,url:g,onEnded:function(){b.emit("videoEnded"),console.log("its being called")}}),Object(c.jsx)("div",{ref:s,className:"chatbox",children:n.map((function(e){return Object(c.jsx)("div",{children:e})}))}),Object(c.jsx)(m.a,{onClick:function(){b.emit("chat-message",p)},children:"Send"}),Object(c.jsx)(f.a,{onKeyDown:function(e){if("Enter"===e.key){var t=Date.now(),n=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(t)+": "+p;p.startsWith("!")?b.emit("chat-message",p):b.emit("chat-message",n),w("")}},type:"text",value:p,onChange:function(e){w(e.target.value)}})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,176)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),o(e),a(e),i(e)}))};s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(v,{})}),document.getElementById("root")),O()},87:function(e,t,n){},88:function(e,t,n){}},[[142,1,2]]]);
//# sourceMappingURL=main.edc75b6b.chunk.js.map